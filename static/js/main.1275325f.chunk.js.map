{"version":3,"sources":["components/modal/modal.module.css","components/app.module.css","components/imageGallery/imageGallery.module.css","components/button/button.module.css","components/searchbar/searchbar.module.css","services/image-api.js","components/imageGalleryItem/ImageGalleryItem.js","components/modal/Modal.js","components/imageGallery/ImageGallery.js","components/searchbar/SearchBar.js","components/button/Button.js","components/App.js","index.js","components/imageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","fetchImages","value","page","requestParams","axios","get","ImageGalleryItem","src","onOpen","id","className","styles","alt","ImageGalleryItemImage","onClick","Modal","handleKeyPress","event","code","props","onClose","handleBackdropClick","Number","target","object","window","addEventListener","this","removeEventListener","Overlay","largeImageURL","width","height","Component","ImageGallery","images","isModalOpen","map","image","webformatURL","key","SearchBar","handleChange","onSubmit","Searchbar","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Button","onLoad","App","state","isLoading","setState","imageApi","then","data","prevState","hits","catch","e","console","log","finally","handleSubmit","preventDefault","openModal","filter","item","closeModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","color","timeout","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1275325f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2PQZK\",\"Modal\":\"modal_Modal__3qVwQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__1VE84\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__3Wt07\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__l6X__\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__3VK8i\",\"SearchForm\":\"searchbar_SearchForm__pn92P\",\"SearchFormButton\":\"searchbar_SearchFormButton__1EFLt\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__Jj-ZB\",\"SearchFormInput\":\"searchbar_SearchFormInput__2L7V0\"};","import axios from \"axios\";\n\nconst baseUrl = \"https://pixabay.com/api/\";\nconst key = \"14472028-808bc64ad5a80955cde6e6aeb\";\n\nexport const fetchImages = (value, page) => {\n  const requestParams = `?image_type=photo&orientation=horizontal&q=${value}&page=${page}&per_page=12&key=`;\n  return axios.get(baseUrl + requestParams + key);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./imageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ src, onOpen, id }) => (\n  <li className={styles.ImageGalleryItem}>\n    <img\n      src={src}\n      alt=\"\"\n      className={styles.ImageGalleryItemImage}\n      onClick={onOpen}\n      id={id}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  onOpen: PropTypes.func.isRequired,\n  id: PropTypes.any.isRequired\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from \"react\";\nimport styles from \"./modal.module.css\";\n\nexport default class Modal extends Component {\n  handleKeyPress = event => {\n    if (event.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (Number(event.target.id) !== Number(this.props.object.id)) {\n      this.props.onClose();\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keyup\", this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keyup\", this.handleKeyPress);\n  }\n\n  render() {\n    const { object, id } = this.props;\n    return (\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img\n            src={object.largeImageURL}\n            alt=\"\"\n            id={id}\n            width=\"800\"\n            height=\"600\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\nimport styles from \"./imageGallery.module.css\";\nimport Modal from \"../modal/Modal\";\n\nconst ImageGallery = ({ images, onOpen, onClose, isModalOpen, id, object }) => (\n  <ul className={styles.ImageGallery}>\n    {isModalOpen && <Modal id={id} object={object} onClose={onClose} />}\n    {images.map(image => (\n      <ImageGalleryItem\n        id={image.id}\n        onOpen={onOpen}\n        src={image.webformatURL}\n        key={image.id}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onOpen: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  isModalOpen: PropTypes.bool,\n  object: PropTypes.object\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./searchbar.module.css\";\n\nconst SearchBar = ({ value, handleChange, onSubmit }) => (\n  <header className={styles.Searchbar}>\n    <form onSubmit={onSubmit} className={styles.SearchForm}>\n      <button type=\"submit\" className={styles.SearchFormButton}>\n        <span className={styles.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        value={value}\n        onChange={handleChange}\n        className={styles.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  </header>\n);\n\nSearchBar.propTypes = {\n  value: PropTypes.string.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired\n};\n\nexport default SearchBar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./button.module.css\";\n\nconst Button = ({ onLoad }) => (\n  <button className={styles.Button} onClick={onLoad}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onLoad: PropTypes.func.isRequired\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport styles from \"./app.module.css\";\nimport * as imageApi from \"../services/image-api\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport SearchBar from \"./searchbar/SearchBar\";\nimport Button from \"./button/Button\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    isLoading: false,\n    isModalOpen: false,\n    value: \"\",\n    id: null,\n    object: {}\n  };\n\n  fetchImages = value => {\n    this.setState({ isLoading: true });\n    imageApi\n      .fetchImages(value, this.state.page)\n      .then(({ data }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n          page: prevState.page + 1\n        }));\n      })\n      .catch(e => console.log(e))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.value !== this.state.value ||\n      prevState.page !== this.state.page\n    ) {\n      if (prevState.value !== this.state.value) {\n        this.setState({ images: [], page: 1 });\n      }\n    }\n    if (this.state.page > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\"\n      });\n    }\n  }\n\n  handleChange = event => {\n    this.setState({\n      value: event.target.value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.fetchImages(this.state.value);\n  };\n\n  openModal = e => {\n    const [object] = this.state.images.filter(\n      item => item.id === Number(e.target.id)\n    );\n    this.setState({ isModalOpen: true, id: e.target.id, object: object });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  onLoad = () => {\n    this.fetchImages(this.state.value, this.state.page);\n  };\n\n  render() {\n    const { images, isLoading, isModalOpen, id, value, object } = this.state;\n    return (\n      <div className={styles.App}>\n        <SearchBar\n          value={value}\n          onSubmit={this.handleSubmit}\n          handleChange={this.handleChange}\n        />\n        {isLoading ? (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        ) : (\n          <ImageGallery\n            object={object}\n            images={images}\n            onOpen={this.openModal}\n            onClose={this.closeModal}\n            isModalOpen={isModalOpen}\n            id={id}\n          />\n        )}\n        {images.length > 0 && <Button onLoad={this.onLoad} />}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\n\nReactDOM.render(<App />,document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__2nKCI\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__1cGqL\"};"],"sourceRoot":""}